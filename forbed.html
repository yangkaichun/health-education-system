<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>病床衛教影片觀看 - 衛教影片觀看系統</title>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="./js/auth.js"></script>
    <script src="./js/forbed.js"></script>
</head>
<body>
    <header>
        <h1>衛教影片觀看系統</h1>
        <nav>
            <ul>
                <li><a href="./index.html">影片觀看</a></li>
                <li><a href="./results.html">結果列表</a></li>
                <li><a href="./admin.html">影片管理</a></li>
                <li><a href="./setting.html">床號設定</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="bed-input-container">
            <input type="text" id="bed-qr-input" placeholder="請掃描病床 QR Code">
            <button id="scan-qr-btn">掃描 QR Code</button>
        </div>

        <section id="topic-selection">
            <h2>請選擇衛教主題</h2>
            <div id="topics-container">
                <p id="loading-topics">載入衛教主題中...</p>
                <!-- 題組會根據床號映射從 bed-topic-mapping.json 中動態載入 -->
            </div>
        </section>

        <section id="video-section" style="display: none;">
            <h2>衛教影片</h2>
            <div id="video-container">
                <!-- 影片會在這裡顯示 -->
            </div>
        </section>

        <section id="questionnaire-section" style="display: none;">
            <h2>問卷填寫</h2>
            <div id="questionnaire-container">
                <!-- 問卷會在這裡顯示 -->
            </div>
            <button id="submit-questionnaire" class="primary-button">提交問卷</button>
        </section>

        <section id="completion-section" style="display: none;">
            <h2>問卷填寫</h2>
            <p>已將問卷填畢，將通知護理師與您說明。</p>
        </section>
    </main>

    <footer>
        <p>© 2025 衛教影片觀看系統(By 楊凱鈞/FET)</p>
        <p>版本: 2.0.0 (支援床號題組映射)</p>
    </footer>

    <!-- 通知彈窗 -->
    <div id="notification" class="notification">
        <p id="notification-message"></p>
    </div>
</body>
</html>
